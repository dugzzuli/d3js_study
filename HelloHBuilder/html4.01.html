<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
"http://www.w3.org/TR/html4/strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">

	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<title></title>

	</head>

	<body>
		<p></p>
		<p></p>
		<p></p>
		<p></p>
		<p></p>
		
	</body>

</html>
<script type="text/javascript" src="js/jquery-1.11.2.min.js"></script>
<script type="text/javascript" src="js/d3.min.js"></script>
<script>
	var body = d3.select('body'); //选择body元素
	body.append('h1') //向 body元素中插入 h1标签
		.text('Hello world') // 给h1标签填充文字为hello world
		.style('color', function(d) {
			alert(d);
			return 'red';
		}); //修改样式 字体颜色 为红色
	/*
	 这里涉及一个概念：选择集
	 使用 d3.select() 或 d3.selectAll() 选择元素后返回的对象，就是选择集。
	 另外，有人会发现，D3 能够连续不断地调用函数，形如：
	 d3.select().selectAll().text()
	 这称为链式语法，和 JQuery 的语法很像，常用 JQuery 的朋友一定会感到很亲切。
	 因为封装每个方法的时候都会返回当前对象 return  this;

	 */

	/*
    在D3中如何选择元素
 d3.select()：是选择所有指定元素的第一个
 d3.selectAll()：是选择指定元素的全部

 d3.select('p')  选择页面中第一个P标签
 d3.selectAll('p');   //选择页面中的所有P标签

 */

	/*
	    如何绑定数据
	 datum()：绑定一个数据到选择集上
	 data()：绑定一个数组到选择集上，数组的各项值分别与选择集的各元素绑定
	 */

	// datum
	var data = 'hello world';
	var p = d3.selectAll('p');
	p.datum(data).text(function(d, i) {
		alert('第' + i + '个P标签的数据是' + d);
		return '第' + i + '个P标签的数据是' + d;
	})

	//data 绑定一个数组
	var dataArr = [1, 2, 3, 4];
	p.data(dataArr).text(function(d, i) {
		return '第' + i + '个P标签的数据是' + d;
	});
</script>